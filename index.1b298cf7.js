const e=document.querySelector("#search-form"),n=document.querySelector(".gallery"),a=document.querySelector(".load-more");let t,o;async function s(e){const n=`https://pixabay.com/api/?key=30945884-5d04be7201908102dc9a782a9&q=${e.value.split(" ").join("+")}&image_type=photo&orientation=horizontal&safesearch=true&per_page=40&page=${t}`;console.log(n);const a=await fetch(n),o=await a.json();if(console.log(`"Hooray! We found ${o.totalHits} images."`),!(o.totalHits/40<t-1))return o.hits.map((e=>({webformatURL:e.webformatURL,largeImageURL:e.largeImageURL,tags:e.tags,likes:e.likes,views:e.views,comments:e.comments,downloads:e.downloads})));console.log("We're sorry, but you've reached the end of search results.")}async function i(e){if(e.length)return e.map((e=>`<div class="photo-card">\n        <img src="${e.webformatURL}" alt="${e.tags}" loading="lazy" />\n        <div class="info">\n          <p class="info-item">\n            <b>Likes</b>${e.likes}\n          </p>\n          <p class="info-item">\n            <b>Views</b>${e.views}\n          </p>\n          <p class="info-item">\n            <b>Comments</b>${e.comments}\n          </p>\n          <p class="info-item">\n            <b>Downloads</b>${e.downloads}\n          </p>\n        </div>\n      </div>`));console.log("Sorry, there are no images matching your search query. Please try again."),n.innerHTML="",a.classList.add("visually-hidden")}e.addEventListener("submit",(async function(e){e.preventDefault(),t=1;let{elements:{searchQuery:l}}=e.currentTarget;o=l;try{const e=await s(l),t=await i(e);n.innerHTML=t.join(""),a.classList.remove("visually-hidden")}catch(e){console.log(e.message)}})),a.addEventListener("click",(async function(){t+=1;const e=await s(o);let a="";a+=await i(e),n.innerHTML=a}));
//# sourceMappingURL=index.1b298cf7.js.map

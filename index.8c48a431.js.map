{"mappings":"AAAA,MAGMA,EAAOC,SAASC,cAAc,gBAC9BC,EAAUF,SAASC,cAAc,YACjCE,EAAcH,SAASC,cAAc,cAC3C,IAAIG,EAGAC,EA2BJC,eAAeC,EAAcC,GAC3BJ,GAAc,EACd,MAAMK,EAAM,qEAA6CD,EAAOE,kFAAkFN,IAC5IO,QAAiBC,MAAMH,GAE7B,aADmBE,EAASE,QAChBC,KAAKC,KAAIC,IACZ,CACLC,aAAcD,EAAIC,aAClBC,cAAeF,EAAIE,cACnBC,KAAMH,EAAIG,KACVC,MAAOJ,EAAII,MACXC,MAAOL,EAAIK,MACXC,SAAUN,EAAIM,SACdC,UAAWP,EAAIO,a,CAOrBjB,eAAekB,EAAcC,GAC3B,GAAKA,EAAMC,OAOT,OAAOD,EAAMV,KACXC,GACE,+CACYA,EAAIC,sBAAsBD,EAAIG,iHAGxBH,EAAII,mFAGJJ,EAAIK,sFAGDL,EAAIM,0FAGHN,EAAIO,4DArB9BI,QAAQC,IACN,4EAEF1B,EAAQ2B,UAAY,E,CAtDxB9B,EAAK+B,iBAAiB,UAItBxB,eAA4ByB,GAC1BA,EAAMC,iBACN5B,EAAa,EACb,IACE6B,UAAUC,YAAEA,IACVH,EAAMI,cACV9B,EAAc6B,EACd,IACE,MAAME,QAAa7B,EAAc2B,GAC3BG,QAAiBb,EAAcY,GACrClC,EAAQ2B,UAAYQ,EAASC,KAAK,IAClCnC,EAAYoC,UAAUC,OAAO,kB,CAC7B,MAAOC,GACPd,QAAQC,IAAIa,EAAMC,Q,KAhBtBvC,EAAY2B,iBAAiB,SAoB7BxB,iBACEF,GAAc,EACd,MAAMgC,QAAa7B,EAAcF,GACjC,IAAIsC,EAAW,GACfA,SAAkBnB,EAAcY,GAChClC,EAAQ2B,UAAYc,C","sources":["src/index.js"],"sourcesContent":["const API_key = '30945884-5d04be7201908102dc9a782a9';\n// const url = `https://pixabay.com/api/?key=${API_key}&q=${API_key}&image_type=photo&orientation=horizontal&safesearch=true`;\n\nconst form = document.querySelector('#search-form');\nconst gallery = document.querySelector('.gallery');\nconst loadMoreBtn = document.querySelector('.load-more');\nlet pageNumber;\nform.addEventListener('submit', handleSubmit);\nloadMoreBtn.addEventListener('click', loadMore);\nlet searchParam;\n\nasync function handleSubmit(event) {\n  event.preventDefault();\n  pageNumber = 1;\n  let {\n    elements: { searchQuery },\n  } = event.currentTarget;\n  searchParam = searchQuery;\n  try {\n    const data = await fetchPictures(searchQuery);\n    const rendered = await renderGallery(data);\n    gallery.innerHTML = rendered.join('');\n    loadMoreBtn.classList.remove('visually-hidden');\n  } catch (error) {\n    console.log(error.message);\n  }\n}\n\nasync function loadMore() {\n  pageNumber += 1;\n  const data = await fetchPictures(searchParam);\n  let morePics = '';\n  morePics += await renderGallery(data);\n  gallery.innerHTML = morePics;\n}\n\nasync function fetchPictures(search) {\n  pageNumber += 1;\n  const url = `https://pixabay.com/api/?key=${API_key}&q=${search.value}&image_type=photo&orientation=horizontal&safesearch=true&per_page=10&page=${pageNumber}`;\n  const response = await fetch(url);\n  const imgs = await response.json();\n  return imgs.hits.map(img => {\n    return {\n      webformatURL: img.webformatURL,\n      largeImageURL: img.largeImageURL,\n      tags: img.tags,\n      likes: img.likes,\n      views: img.views,\n      comments: img.comments,\n      downloads: img.downloads,\n    };\n  });\n\n  // console.log(array);\n}\n\nasync function renderGallery(array) {\n  if (!array.length) {\n    console.log(\n      'Sorry, there are no images matching your search query. Please try again.'\n    );\n    gallery.innerHTML = '';\n    // pageNumber = 1;\n  } else {\n    return array.map(\n      img =>\n        `<div class=\"photo-card\">\n        <img src=\"${img.webformatURL}\" alt=\"${img.tags}\" loading=\"lazy\" />\n        <div class=\"info\">\n          <p class=\"info-item\">\n            <b>Likes</b>${img.likes}\n          </p>\n          <p class=\"info-item\">\n            <b>Views</b>${img.views}\n          </p>\n          <p class=\"info-item\">\n            <b>Comments</b>${img.comments}\n          </p>\n          <p class=\"info-item\">\n            <b>Downloads</b>${img.downloads}\n          </p>\n        </div>\n      </div>`\n    );\n  }\n}\n"],"names":["$1f0dc3b9307be026$var$form","document","querySelector","$1f0dc3b9307be026$var$gallery","$1f0dc3b9307be026$var$loadMoreBtn","$1f0dc3b9307be026$var$pageNumber","$1f0dc3b9307be026$var$searchParam","async","$1f0dc3b9307be026$var$fetchPictures","search","url","value","response","fetch","json","hits","map","img","webformatURL","largeImageURL","tags","likes","views","comments","downloads","$1f0dc3b9307be026$var$renderGallery","array","length","console","log","innerHTML","addEventListener","event","preventDefault","elements","searchQuery","currentTarget","data","rendered","join","classList","remove","error","message","morePics"],"version":3,"file":"index.8c48a431.js.map"}